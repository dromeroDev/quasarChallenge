!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{iydT:function(t,i,o){"use strict";o.r(i),o.d(i,"HomeModule",function(){return F});var s,a=o("tyNb"),r=o("0IaG"),c=o("3Pt+"),l=o("fXoL"),u=o("AytR"),b=o("tk/3"),f=u.a.serverUrl,m=((s=function(){function t(n){e(this,t),this.httpClient=n}return n(t,[{key:"topsecret",value:function(e){return this.httpClient.post(f+"/topsecret",e)}}]),t}()).\u0275fac=function(e){return new(e||s)(l.Sb(b.b))},s.\u0275prov=l.Fb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),p=o("kmnG"),g=o("qFsG"),d=o("ofXK"),h=o("bTqV");function v(e,t){1&e&&(l.Ob(0,"mat-error"),l.oc(1," Message is required "),l.Nb())}function y(e,t){if(1&e&&(l.Ob(0,"pre"),l.oc(1),l.Yb(2,"json"),l.Nb()),2&e){var n=l.Xb();l.zb(1),l.qc("  Response: \n  ",l.Zb(2,1,n.response),"\n")}}var O,k,w,N,M=function(){function t(){e(this,t)}return n(t,[{key:"isErrorState",value:function(e,t){return!!(e&&e.invalid&&(e.dirty||e.touched||t&&t.submitted))}}]),t}(),C=((O=function(){function t(n,i,o,s){e(this,t),this.formBuilder=n,this.dialogRef=i,this.communicationService=o,this.data=s,this.matcher=new M,this.form=this.formBuilder.group({messageFormControl:["",[c.j.required]]})}return n(t,[{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"sendMessage",value:function(){var e,t=this,n=this.getOffsetMessageForSatellite(null===(e=this.form.get("messageFormControl"))||void 0===e?void 0:e.value);this.communicationService.topsecret(n).toPromise().then(function(e){console.log(e),t.response=e},function(e){console.log(Error,e)})}},{key:"getOffsetMessageForSatellite",value:function(e){var t=e.split(" ");return{satellites:[{name:"kenobi",distance:this.getDistance(),message:this.applyOffsetMessage(t,0)},{name:"kenobi",distance:this.getDistance(),message:this.applyOffsetMessage(t,2)},{name:"kenobi",distance:this.getDistance(),message:this.applyOffsetMessage(t,3)}]}}},{key:"applyOffsetMessage",value:function(e,t){for(var n=new Array,i=0;i<e.length;i++)n[i]=t===i?"":e[i];return n}},{key:"getDistance",value:function(){return 100*Math.random()+100}}]),t}()).\u0275fac=function(e){return new(e||O)(l.Jb(c.b),l.Jb(r.f),l.Jb(m),l.Jb(r.a))},O.\u0275cmp=l.Db({type:O,selectors:[["dialog-new-message"]],decls:17,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"example-form",3,"formGroup"],["type","message","matInput","","formControlName","messageFormControl",3,"errorStateMatcher"],[4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){1&e&&(l.Ob(0,"h1",0),l.oc(1,"Hi Spaceship, "),l.Nb(),l.Ob(2,"div",1),l.Ob(3,"p"),l.oc(4,"Complete the message you want to send"),l.Nb(),l.Ob(5,"form",2),l.Ob(6,"mat-form-field"),l.Ob(7,"mat-label"),l.oc(8,"Message"),l.Nb(),l.Kb(9,"input",3),l.nc(10,v,2,0,"mat-error",4),l.Nb(),l.Nb(),l.Nb(),l.Ob(11,"div",5),l.Ob(12,"button",6),l.Vb("click",function(){return t.onNoClick()}),l.oc(13,"Cancel"),l.Nb(),l.Ob(14,"button",7),l.Vb("click",function(){return t.sendMessage()}),l.oc(15,"Send"),l.Nb(),l.Nb(),l.nc(16,y,3,3,"pre",4)),2&e&&(l.zb(5),l.cc("formGroup",t.form),l.zb(4),l.cc("errorStateMatcher",t.matcher),l.zb(1),l.cc("ngIf",t.form.invalid),l.zb(4),l.cc("disabled",t.form.invalid),l.zb(2),l.cc("ngIf",t.response))},directives:[r.g,r.d,c.k,c.g,c.d,p.c,p.f,g.a,c.a,c.f,c.c,d.k,r.c,h.a,p.b],pipes:[d.f],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),O),P=o("zkoq"),S=[{path:"",component:(k=function(){function t(n){e(this,t),this.dialog=n}return n(t,[{key:"ngOnInit",value:function(){}},{key:"openDialog",value:function(){this.dialog.open(C,{width:"50%",data:{}}).afterClosed().subscribe(function(e){console.log("The dialog was closed")})}}]),t}(),k.\u0275fac=function(e){return new(e||k)(l.Jb(r.b))},k.\u0275cmp=l.Db({type:k,selectors:[["app-home"]],decls:12,vars:0,consts:[["cols","2","rowHeight","2:1"],[1,"spaceship"],["src","../../../assets/img/spaceship.png","alt","spaceship image",1,"img-spaceship"],["mat-raised-button","","color","primary",3,"click"],["src","../../../assets/img/satellite.png","alt","satellite image",1,"img-satellite"]],template:function(e,t){1&e&&(l.Ob(0,"mat-grid-list",0),l.Ob(1,"mat-grid-tile"),l.Ob(2,"div",1),l.Kb(3,"img",2),l.Ob(4,"button",3),l.Vb("click",function(){return t.openDialog()}),l.oc(5,"New Message"),l.Nb(),l.Nb(),l.Nb(),l.Ob(6,"mat-grid-tile"),l.Kb(7,"img",4),l.Nb(),l.Ob(8,"mat-grid-tile"),l.Kb(9,"img",4),l.Nb(),l.Ob(10,"mat-grid-tile"),l.Kb(11,"img",4),l.Nb(),l.Nb())},directives:[P.a,P.c,h.a],styles:[".img-satellite[_ngcontent-%COMP%]{width:200px;height:auto}.img-spaceship[_ngcontent-%COMP%]{width:400px;height:auto}.spaceship[_ngcontent-%COMP%]{display:flex;flex-direction:column}.spaceship[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1em}"]}),k)}],D=((w=function t(){e(this,t)}).\u0275mod=l.Hb({type:w}),w.\u0275inj=l.Gb({factory:function(e){return new(e||w)},imports:[[a.b.forChild(S)],a.b]}),w),z=o("PCNd"),F=((N=function t(){e(this,t)}).\u0275mod=l.Hb({type:N}),N.\u0275inj=l.Gb({factory:function(e){return new(e||N)},imports:[[d.c,a.b,D,z.a]]}),N)}}])}();