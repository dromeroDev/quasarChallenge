(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{iydT:function(e,t,s){"use strict";s.r(t),s.d(t,"HomeModule",function(){return M});var o=s("tyNb"),i=s("0IaG"),n=s("3Pt+"),r=s("fXoL"),a=s("AytR"),c=s("tk/3");const l=a.a.serverUrl;let b=(()=>{class e{constructor(e){this.httpClient=e}topsecret(e){return this.httpClient.post(l+"/topsecret",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(c.b))},e.\u0275prov=r.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=s("kmnG"),p=s("qFsG"),g=s("ofXK"),d=s("bTqV");function f(e,t){1&e&&(r.Ob(0,"mat-error"),r.oc(1," Message is required "),r.Nb())}function u(e,t){if(1&e&&(r.Ob(0,"pre"),r.oc(1),r.Yb(2,"json"),r.Nb()),2&e){const e=r.Xb();r.zb(1),r.qc("  Response: \n  ",r.Zb(2,1,e.response),"\n")}}class h{isErrorState(e,t){return!!(e&&e.invalid&&(e.dirty||e.touched||t&&t.submitted))}}let O=(()=>{class e{constructor(e,t,s,o){this.formBuilder=e,this.dialogRef=t,this.communicationService=s,this.data=o,this.matcher=new h,this.form=this.formBuilder.group({messageFormControl:["",[n.j.required]]})}onNoClick(){this.dialogRef.close()}sendMessage(){var e;const t=this.getOffsetMessageForSatellite(null===(e=this.form.get("messageFormControl"))||void 0===e?void 0:e.value);this.communicationService.topsecret(t).toPromise().then(e=>{console.log(e),this.response=e},e=>{console.log(Error,e)})}getOffsetMessageForSatellite(e){const t=e.split(" ");return{satellites:[{name:"kenobi",distance:this.getDistance(),message:this.applyOffsetMessage(t,0)},{name:"kenobi",distance:this.getDistance(),message:this.applyOffsetMessage(t,2)},{name:"kenobi",distance:this.getDistance(),message:this.applyOffsetMessage(t,3)}]}}applyOffsetMessage(e,t){let s=new Array;for(let o=0;o<e.length;o++)s[o]=t===o?"":e[o];return s}getDistance(){return 100*Math.random()+100}}return e.\u0275fac=function(t){return new(t||e)(r.Jb(n.b),r.Jb(i.f),r.Jb(b),r.Jb(i.a))},e.\u0275cmp=r.Db({type:e,selectors:[["dialog-new-message"]],decls:17,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"example-form",3,"formGroup"],["type","message","matInput","","formControlName","messageFormControl",3,"errorStateMatcher"],[4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){1&e&&(r.Ob(0,"h1",0),r.oc(1,"Hi Spaceship, "),r.Nb(),r.Ob(2,"div",1),r.Ob(3,"p"),r.oc(4,"Complete the message you want to send"),r.Nb(),r.Ob(5,"form",2),r.Ob(6,"mat-form-field"),r.Ob(7,"mat-label"),r.oc(8,"Message"),r.Nb(),r.Kb(9,"input",3),r.nc(10,f,2,0,"mat-error",4),r.Nb(),r.Nb(),r.Nb(),r.Ob(11,"div",5),r.Ob(12,"button",6),r.Vb("click",function(){return t.onNoClick()}),r.oc(13,"Cancel"),r.Nb(),r.Ob(14,"button",7),r.Vb("click",function(){return t.sendMessage()}),r.oc(15,"Send"),r.Nb(),r.Nb(),r.nc(16,u,3,3,"pre",4)),2&e&&(r.zb(5),r.cc("formGroup",t.form),r.zb(4),r.cc("errorStateMatcher",t.matcher),r.zb(1),r.cc("ngIf",t.form.invalid),r.zb(4),r.cc("disabled",t.form.invalid),r.zb(2),r.cc("ngIf",t.response))},directives:[i.g,i.d,n.k,n.g,n.d,m.c,m.f,p.a,n.a,n.f,n.c,g.k,i.c,d.a,m.b],pipes:[g.f],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e})();var N=s("zkoq");const v=[{path:"",component:(()=>{class e{constructor(e){this.dialog=e}ngOnInit(){}openDialog(){this.dialog.open(O,{width:"50%",data:{}}).afterClosed().subscribe(e=>{console.log("The dialog was closed")})}}return e.\u0275fac=function(t){return new(t||e)(r.Jb(i.b))},e.\u0275cmp=r.Db({type:e,selectors:[["app-home"]],decls:12,vars:0,consts:[["cols","2","rowHeight","2:1"],[1,"spaceship"],["src","../../../assets/img/spaceship.png","alt","spaceship image",1,"img-spaceship"],["mat-raised-button","","color","primary",3,"click"],["src","../../../assets/img/satellite.png","alt","satellite image",1,"img-satellite"]],template:function(e,t){1&e&&(r.Ob(0,"mat-grid-list",0),r.Ob(1,"mat-grid-tile"),r.Ob(2,"div",1),r.Kb(3,"img",2),r.Ob(4,"button",3),r.Vb("click",function(){return t.openDialog()}),r.oc(5,"New Message"),r.Nb(),r.Nb(),r.Nb(),r.Ob(6,"mat-grid-tile"),r.Kb(7,"img",4),r.Nb(),r.Ob(8,"mat-grid-tile"),r.Kb(9,"img",4),r.Nb(),r.Ob(10,"mat-grid-tile"),r.Kb(11,"img",4),r.Nb(),r.Nb())},directives:[N.a,N.c,d.a],styles:[".img-satellite[_ngcontent-%COMP%]{width:200px;height:auto}.img-spaceship[_ngcontent-%COMP%]{width:400px;height:auto}.spaceship[_ngcontent-%COMP%]{display:flex;flex-direction:column}.spaceship[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1em}"]}),e})()}];let y=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(t){return new(t||e)},imports:[[o.b.forChild(v)],o.b]}),e})();var w=s("PCNd");let M=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(t){return new(t||e)},imports:[[g.c,o.b,y,w.a]]}),e})()}}]);